<!DOCTYPE html>
<html lang="en">
<head>
  <title>Weekly Coding Goal Tracker | PIMTECH</title>
  <script src="script.js"></script>
  <script>getHead();</script>
  <style>
    :root {
      --crimson: #C72C41;
      --burgundy: #A50034;
      --white: #ffffff;
      --gray: #D9D9D9;
    }
    body {
      margin: 0;
      font-family: 'Lora', serif;
      color: var(--burgundy);
      background: linear-gradient(135deg,var(--white),var(--gray));
      background-size: 400% 400%;
      animation: bgMove 20s ease infinite;
    }
    @keyframes bgMove {
      0%{background-position:0 0}50%{background-position:100% 50%}100%{background-position:0 0}
    }

    /************** HERO **************/
    .hero{
      background:linear-gradient(135deg,var(--crimson),var(--burgundy));
      color:var(--white)!important;
      text-align:center;
      padding:80px 20px;
      overflow:hidden; /* title slide-in */
    }
    .hero h1,.hero p{opacity:0;transform:translateY(40px);animation:slideFade 1s forwards;} /* controlled by delay */
    .hero h1{animation-delay:.2s}
    .hero p{animation-delay:.6s}
    @keyframes slideFade{to{opacity:1;transform:none}}


    .tracker-card{
      backdrop-filter:blur(10px);
      background:rgba(255,255,255,.18);
      border-radius:16px;
      border:1px solid rgba(255,255,255,.25);
      box-shadow:0 12px 32px rgba(0,0,0,.15);
      transform:translateY(80px);
      opacity:0;
      transition:all .9s cubic-bezier(.25,.8,.25,1);
    }

    .tracker-card.show{transform:none;opacity:1;}


    .progress{height:26px;background:var(--gray);border-radius:8px;overflow:hidden}
    .progress-bar{background:var(--crimson);font-weight:bold;transition:width .8s ease-in-out}

    .btn-neon{position:relative;overflow:hidden;background:var(--crimson);border:none;color:var(--white);font-weight:bold;transition:color .3s}
    .btn-neon:before{content:"";position:absolute;top:-100%;left:0;width:100%;height:100%;background:rgba(255,255,255,.3);transform:skewY(-15deg);transition:top .5s}
    .btn-neon:hover:before{top:100%}
    .btn-neon:hover{color:#fff;box-shadow:0 0 12px var(--crimson),0 0 24px var(--crimson)}

    .btn-secondary{background:var(--gray);border:none;color:var(--burgundy)}
    .btn-secondary:hover{background:var(--burgundy);color:#fff}
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <script>getHeader();</script>

  <!-- HERO -->
  <section class="hero">
    <h1>Weekly Coding Goal&nbsp;Tracker</h1>
    <p>Set a goal.¬†Track your hours.¬†Level&nbsp;up! üöÄ</p>
  </section>

  <!-- APP -->
  <div class="container my-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div id="trackerCard" class="p-4 tracker-card">
          <!-- Goal input -->
          <h3 class="mb-3 text-center" style="color:var(--burgundy)">1Ô∏è‚É£¬†Set Your Weekly Goal (hours)</h3>
          <div class="input-group mb-4">
            <input id="goalInput" type="number" min="1" class="form-control" placeholder="e.g., 10">
            <button class="btn btn-neon" onclick="setGoal()">Save Goal</button>
          </div>

          <!-- Progress input -->
          <h3 class="mb-3 text-center" style="color:var(--burgundy)">2Ô∏è‚É£¬†Add Progress</h3>
          <div class="input-group mb-4">
            <input id="progressInput" type="number" min="0.25" step="0.25" class="form-control" placeholder="Hours coded today">
            <button class="btn btn-neon" onclick="addProgress()">Add</button>
          </div>

          <!-- Progress bar -->
          <h3 class="mb-3 text-center" style="color:var(--burgundy)">3Ô∏è‚É£¬†Your Progress</h3>
          <div class="progress mb-2">
            <div id="progressBar" class="progress-bar" role="progressbar" style="width:0%">0%</div>
          </div>
          <p id="progressText" class="text-center mb-4">No goal set yet.</p>

          <!-- Reset -->
          <div class="text-center">
            <button class="btn btn-secondary" onclick="resetTracker()">üîÑ¬†Reset Week</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <script>getFooter();</script>

  <!-- JS LOGIC WITH ANIMATIONS -->
  <script>
  const STORAGE_KEY = "pimtech_weekly_goal";
  function readState(){const raw=localStorage.getItem(STORAGE_KEY);return raw?JSON.parse(raw):{goalHours:0,currentHours:0};}
  function saveState(s){localStorage.setItem(STORAGE_KEY,JSON.stringify(s));}

  function updateUI(){
    const {goalHours,currentHours}=readState();
    const bar=document.getElementById("progressBar");
    const txt=document.getElementById("progressText");
    if(goalHours===0){bar.style.width="0%";bar.textContent="0%";txt.textContent="No goal set yet.";return;}
    const pct=Math.min(currentHours/goalHours*100,100);
    bar.style.width=pct+"%";
    bar.textContent=Math.floor(pct)+"%";
    const left=Math.max(goalHours-currentHours,0).toFixed(2);
    txt.textContent=left>0?`${left}h left to reach ${goalHours}h goal`:"üéâ Goal achieved! Great job.";
  }

  function setGoal(){
    const h=parseFloat(document.getElementById("goalInput").value);
    if(!h||h<=0){alert("Enter a positive number of hours");return;}
    saveState({goalHours:h,currentHours:0});updateUI();}
  function addProgress(){
    const a=parseFloat(document.getElementById("progressInput").value);
    if(!a||a<=0){alert("Enter valid hours");return;}
    const st=readState(); if(st.goalHours===0){alert("Set a goal first!");return;}
    st.currentHours+=a; saveState(st); updateUI(); document.getElementById("progressInput").value="";}
  function resetTracker(){if(confirm("Reset your weekly tracker?")){localStorage.removeItem(STORAGE_KEY);updateUI();}}


  window.addEventListener('DOMContentLoaded',()=>{
    // show glass card with slide effect
    document.getElementById('trackerCard').classList.add('show');
    updateUI();
  });
  </script>

  <!-- BOOTSTRAP JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
